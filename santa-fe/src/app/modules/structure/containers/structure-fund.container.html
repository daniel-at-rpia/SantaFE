<article [ngClass]="{
  'sat-fundStructuring': true,
  'sat-fundStructuring--editing': state.isEditing,
  'sat-fundStructuring--error': state.hasErrors.updatedCS01Value|| state.hasErrors.updatedLeverageValue
  }">
  <header class="sat-fundStructuring__configuration">
    <div class="sat-fundStructuring__targetBar">
      <target-bar [targetBar]="fund.data.creditLeverageTargetBar">
      </target-bar>
    </div>
    <h2 class="sat-fundStructuring__configuration-title">{{ fund.data.portfolioShortName }}</h2>
    <div class="sat-fundStructuring__targetBar">
      <target-bar [targetBar]="fund.data.cs01TargetBar">
      </target-bar>
    </div>
  </header>
  <section 
  [ngClass]="{
    'sat-fundStructuring__setTarget': true
  }">
  <div class="sat-fundStructuring__setTarget-group">
    <label for="CS01Target" class="sat-fundStructuring__setTarget-group-label">Target CS01 Value:</label>
    <santa-input
      [inputValue]="fund.data.cs01TotalsInK.targetTotal"
      [placeholder]="fund.data.cs01TotalsInK.targetTotal"
      [isNumeric]="fund.state.isNumeric"
      (onInputChange)="onChangeValue($event, constants.cs01)"
      [hasError]="state.hasErrors.updatedCS01Value"
      [ngClass]="{
        'sat-fundStructuring__setTarget-group-input': true
      }">
    </santa-input>
    <span class="sat-fundStructuring__setTarget-group-unit">K</span>
  </div>
  <div class="sat-fundStructuring__setTarget-group">
      <label for="leverageTarget" class="sat-fundStructuring__setTarget-group-label">Leverage Target Value:</label>
      <santa-input
        [inputValue]="fund.data.target.target.leverageValue"
        [placeholder]="fund.data.target.target.leverageValue"
        [isNumeric]="fund.state.isNumeric"
        (onInputChange)="onChangeValue($event, constants.leverage)"
        [hasError]="state.hasErrors.updatedLeverageValue"
        [ngClass]="{
          'sat-fundStructuring__setTarget-group-input': true
        }">
    </santa-input>
  </div>
  <div [ngClass]="{
    'sat-fundStructuring__setTarget-message': true
  }">
  <p class="sat-fundStructuring__setTarget-message-text">{{ state.hasErrors.errorMessage }}</p>
  </div>
</section>
<section class="sat-fundStructuring__utility">
  <div class="sat-fundStructuring__utility-btnGroup">
    <button [ngClass]="{
      'sat-fundStructuring__utility-btnGroup-btn': true,
      'sat-fundStructuring__utility-btnGroup-btn--cancel': true,
      'sat-fundStructuring__utility-btnGroup-btn--inActive': !state.isEditing
    }" (click)="closeEditMenu()">
      <i class="fal fa-times"></i>
    </button>
    <button [ngClass]="{
      'sat-fundStructuring__utility-btnGroup-btn': true,
      'sat-fundStructuring__utility-btnGroup-btn--edit': true,
      'sat-fundStructuring__utility-btnGroup-btn--inActive': state.isEditing
      }" (click)="showEditMenu()">
      <i class="fal fa-pencil"></i>
    </button>
    <button [ngClass]="{
      'sat-fundStructuring__utility-btnGroup-btn': true,
      'sat-fundStructuring__utility-btnGroup-btn--save': true,
      'sat-fundStructuring__utility-btnGroup-btn--inActive': !state.isEditing
      }" (click)="onClickSaveNewMetrics(fund.data.target.target.cs01, fund.data.target.target.leverageValue)">
      <i class="fal fa-cloud-upload-alt"></i>
    </button>
  </div>
  <hr class="sat-fundStructuring__utility-divider">
  </section>
  <section class="sat-fundStructuring__content">
    <ul class="sat-fundStructuring__content-breakdownList">
      <li class="sat-fundStructuring__content-breakdownList-item" *ngFor="let eachBreakdown of fund.data.children">
        <portfolio-breakdown
          [breakdownData]="eachBreakdown"
          [dataIsReady]="!fund.state.isStencil">
        </portfolio-breakdown>
      </li>
    </ul>
  </section>
</article>