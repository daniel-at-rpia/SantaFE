<article [ngClass]="{
  'sat-portfolioBreakdownRow': true,
  'sat-portfolioBreakdownRow--stencilState': breakdownRow.state.isStencil,
  'sat-portfolioBreakdownRow--isBicsDiveIn': breakdownRow.state.isBtnDiveIn,
  'sat-portfolioBreakdownRow--selected': breakdownRow.state.isSelected,
  'sat-portfolioBreakdownRow--noSignificantDiff': breakdownRow.data.diffToTarget === 0,
  'sat-portfolioBreakdownRow--isEditingView': breakdownRow.state.isEditingView,
  'sat-portfolioBreakdownRow--negativeDiff': breakdownRow.data.diffToTarget < 0,
  'sat-portfolioBreakdownRow--positive': breakdownRow.data.view === constants.positive,
  'sat-portfolioBreakdownRow--improving': breakdownRow.data.view === constants.improving,
  'sat-portfolioBreakdownRow--deteriorating': breakdownRow.data.view === constants.deteriorating,
  'sat-portfolioBreakdownRow--negative': breakdownRow.data.view === constants.negative,
  'sat-portfolioBreakdownRow--neutral': breakdownRow.data.view === constants.neutral,
  'sat-portfolioBreakdownRow--mainDisplayLevel2': !!breakdownRow.state.isDisplayInMainBreakdown && !breakdownRow.state.isWithinPopover && breakdownRow.data.bicsLevel === 2,
  'sat-portfolioBreakdownRow--mainDisplayLevel3': !!breakdownRow.state.isDisplayInMainBreakdown && !breakdownRow.state.isWithinPopover && breakdownRow.data.bicsLevel === 3,
  'sat-portfolioBreakdownRow--mainDisplayLevel4': !!breakdownRow.state.isDisplayInMainBreakdown && !breakdownRow.state.isWithinPopover && breakdownRow.data.bicsLevel === 4
  }">
  <section class="sat-portfolioBreakdownRow__branch" *ngIf="breakdownRow.data.bicsLevel >= 2 && !breakdownRow.state.isWithinPopover" [ngStyle]="{'height': breakdownRow.style.branchHeight, 'top': breakdownRow.style.top}"></section>
  <section class="sat-portfolioBreakdownRow__cta">
    <button (click)="onClickDiveIn(breakdownRow)" class="sat-portfolioBreakdownRow__cta-btn">
      <div class="sat-portfolioBreakdownRow__cta-btn-view">
        <span *ngIf="!!breakdownRow.data.view" class="sat-portfolioBreakdownRow__cta-btn-view-toolTip">{{ breakdownRow.data.view }}</span>
        <i [ngClass]="{
          'sat-portfolioBreakdownRow__cta-btn-view-icon': true,
          'fal': true,
          'fa-arrow-up': breakdownRow.data.view === constants.positive || breakdownRow.data.view === constants.improving,
          'fa-arrow-down': breakdownRow.data.view === constants.negative || breakdownRow.data.view === constants.deteriorating,
          'fa-arrows-alt-h': breakdownRow.data.view === constants.neutral
        }"></i>
      </div>
      <span class="sat-portfolioBreakdownRow__cta-btn-text" title="{{breakdownRow.data.category}}">{{ breakdownRow.data.displayCategory }}</span>
    </button>
  </section>
  <section class="sat-portfolioBreakdownRow__utility">
    <div class="sat-portfolioBreakdownRow__utility-moveVisualizer">
      <move-visualizer [visualizerData]="breakdownRow.data.moveVisualizer"></move-visualizer>
    </div>
    <div class="sat-portfolioBreakdownRow__utility-ctas">
      <button (click)="onClickSetView(constants.positive)"class="sat-portfolioBreakdownRow__utility-ctas-btn santaBtn--circleLabelled santaBtn--inverseLabelled santaBtn--small sat-portfolioBreakdownRow__utility-ctas-btn--positive">
        <i class="fal fa-arrow-up sat-portfolioBreakdownRow__utility-ctas-btn-icon"></i>
        <span class="sat-portfolioBreakdownRow__utility-ctas-btn-text">positive</span>
      </button>
      <button (click)="onClickSetView(constants.improving)"class="sat-portfolioBreakdownRow__utility-ctas-btn santaBtn--circleLabelled santaBtn--small santaBtn--inverseLabelled sat-portfolioBreakdownRow__utility-ctas-btn--improving">
        <i class="fal fa-arrow-up sat-portfolioBreakdownRow__utility-ctas-btn-icon"></i>
        <span class="sat-portfolioBreakdownRow__utility-ctas-btn-text">improving</span>
      </button>
      <button (click)="onClickSetView(constants.neutral)"class="sat-portfolioBreakdownRow__utility-ctas-btn santaBtn--circleLabelled santaBtn--small sat-portfolioBreakdownRow__utility-ctas-btn--neutral">
        <i class="fal fa-arrows-alt-h sat-portfolioBreakdownRow__utility-ctas-btn-icon"></i>
        <span class="sat-portfolioBreakdownRow__utility-ctas-btn-text">neutral</span>
      </button>
      <button (click)="onClickSetView(constants.deteriorating)"class="sat-portfolioBreakdownRow__utility-ctas-btn santaBtn--circleLabelled santaBtn--small sat-portfolioBreakdownRow__utility-ctas-btn--deteriorating">
        <i class="fal fa-arrow-down sat-portfolioBreakdownRow__utility-ctas-btn-icon"></i>
        <span class="sat-portfolioBreakdownRow__utility-ctas-btn-text">deteriorating</span>
      </button>
      <button (click)="onClickSetView(constants.negative)"class="sat-portfolioBreakdownRow__utility-ctas-btn santaBtn--circleLabelled santaBtn--small sat-portfolioBreakdownRow__utility-ctas-btn--negative">
        <i class="fal fa-arrow-down sat-portfolioBreakdownRow__utility-ctas-btn-icon"></i>
        <span class="sat-portfolioBreakdownRow__utility-ctas-btn-text">negative</span>
      </button>
    </div>
  </section>
    <div class="sat-portfolioBreakdownRow__cell sat-portfolioBreakdownRow__cell--target">{{breakdownRow.data.diffToTargetDisplay}}</div>
    <hr class="sat-portfolioBreakdownRow__cellDivider">
    <div class="sat-portfolioBreakdownRow__cell sat-portfolioBreakdownRow__cell--current">{{breakdownRow.data.currentPctDisplay}}</div>
    <hr class="sat-portfolioBreakdownRow__cellDivider">
    <div class="sat-portfolioBreakdownRow__cell sat-portfolioBreakdownRow__cell--index">{{breakdownRow.data.indexPctDisplay}}</div>
</article>