@import "global.scss";

$portfolioBreakdownRowCategory_cell_width: 3.5rem;
$portfolioBreakdownRowBtnMinHeight: 2.25rem;
.sat-portfolioBreakdownRow {
  $blockName: &;
  display: flex;
  flex: 1 1 auto;
  align-items: center;
  &__cta {
    @include mix_fixed_div(relative, $z_index_base_item);
    flex: 0 0 8.5rem;
    display: flex;
    margin-right: .5rem;
    &-btn {
      flex: 1 1 auto;
      display: flex;
      min-height: $portfolioBreakdownRowBtnMinHeight;
      margin: 0 $spacing_x_small $spacing_small 0;
      padding: $spacing_xx_small;
      text-align: right;
      flex-direction: row;
      &-text {
        flex: 1 1 auto;
        text-align: left;
        word-break: break-word;
        padding-left: $spacing_xx_small;
      }
      &-view {
        @include mix_border_radius(3px);
        flex: 0 0 auto;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        width: $iconButton_size_x_small;
        height: $iconButton_size_x_small;
        color: $font_color_inverse;
        font-size: $font_size_small;
        &-icon {
          flex: 0 0 auto;
        }
        &-toolTip {
          display: none;
          position: absolute;
          top: -$iconButton_size_x_small;
          background-color: $color_active;
          color: $font_color_inverse;
          padding: $spacing_xx_small;
          font-size: $font_size_small;
        }
        &:hover {
          #{$blockName} {
            &__cta {
              &-btn {
                &-view {
                  &-toolTip {
                    display: flex;
                  }
                }
              }
            }
          }
        }
      }
    }
    &-actionMenu {
      @include mix_fixed_div(absolute, $z_index_hovering_item_lift);
      @include mix_alive('custom', $animation_duration_light transform);
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      transform: scale(0.01) translate(0, 0);
      &-bondBtn {
        margin-top: $spacing_medium;
      }
      &-diveInBtn {
        visibility: hidden;
        margin-bottom: $spacing_medium;
      }
      &-viewBtn {
        margin-top: $spacing_medium;
        &-icon {
          display: flex;
          &-up {
            font-size: $font_size_normal;
            margin-bottom: $spacing_x_small;
          }
          &-down {
            font-size: $font_size_normal;
            margin-top: $spacing_x_small;
          }
        }
      }
    }
  }
  &__cell {
    @include mix_text_overflow;
    flex: 0 0 ($portfolioBreakdownRowCategory_cell_width - $spacing_x_small*4/3 - $typical_border_width*2/3);
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    font-size: $font_size_normal;
    color: $font_color_major;
    &--target {
      @include mix_border_radius(5px);
      padding: $spacing_x_small 0;
      background-color: $color_active;
      color: $font_color_inverse;
      margin: $spacing_x_small 0;
    }
  }
  &__cellDivider {
    @include mix_border_generator(0 $typical_border_width 0 0);
    flex: 0 0 $spacing_x_small+$typical_border_width;
    align-self: stretch;
    margin: $spacing_x_small $spacing_x_small $spacing_x_small 0;
  }
  &__utility {
    @include mix_fixed_div(relative, $z_index_base_item_solid);
    flex: 1 1 auto;
    display: flex;
    align-items: center;
    &-moveVisualizer {
      flex: 0 1 90%;
      display: flex;
      &>move-visualizer {
        flex: 1 1 auto;
      }
    }
    &-ctas {
      @include mix_fixed_div(absolute, $z_index_dropdown);
      @include mix_alive('light');
      display: flex;
      transform: scale(0);
      justify-content: center;
      &-btn {
        margin-right: $spacing_small;
        &-icon {
          color: $font_color_inverse;
        }
        &-text {
          word-break: break-all;
          color: $font_color_inverse;
        }
        &--positive {
          background-color: $color_green_6;
        }
        &--improving {
          background-color: $color_lime_10;
          #{$blockName} {
            &__utility {
              &-ctas {
                &-btn {
                  &-icon {
                    transform: rotate(45deg);
                  }
                }
              }
            }
          }
        }
        &--neutral {
          background-color: $color_yellow_6;
        }
        &--deteriorating {
          background-color: $color_orange_6;
          #{$blockName} {
            &__utility {
              &-ctas {
                &-btn {
                  &-icon {
                    transform: rotate(-45deg);
                  }
                }
              }
            }
          }
        }
        &--negative {
          background-color: $color_red_6;
        }
      }
    }
  }
  &--isBicsDiveIn {
    #{$blockName} {
      &__cta {
        &-actionMenu {
          &-bondBtn {
            margin-right: $spacing_small;
          }
          &-diveInBtn {
            visibility: visible;
          }
          &-viewBtn {
            margin-left: $spacing_small;
          }
        }
      }
    }
  }
  &--isEditingView {
    #{$blockName} {
      &__utility {
        &-ctas {
          transform: scale(1);
        }
      }
    }
  }
  &--positive {
    #{$blockName} {
      &__cta {
        &-btn {
          &-view {
            background-color: $color_green_6;
          }
        }
      }
      &__utility {
        &-ctas {
          &-btn {
            &--positive {
              @include material('none');
              background-color: $color_active;
              color: $font_color_inverse;
            }
          }
        }
      }
    }
  }
  &--improving {
    #{$blockName} {
      &__cta {
        &-btn {
          &-view {
            background-color: $color_lime_10;
            &-icon {
              transform: rotate(45deg);
            }
          }
        }
      }
      &__utility {
        &-ctas {
          &-btn {
            &--improving {
              @include material('none');
              background-color: $color_active;
              color: $font_color_inverse;
            }
          }
        }
      }
    }
  }
  &--deteriorating {
    #{$blockName} {
      &__cta {
        &-btn {
          &-view {
            background-color: $color_orange_6;
            &-icon {
              transform: rotate(-45deg);
            }
          }
        }
      }
      &__utility {
        &-ctas {
          &-btn {
            &--deteriorating {
              @include material('none');
              background-color: $color_active;
              color: $font_color_inverse;
            }
          }
        }
      }
    }
  }
  &--negative {
    #{$blockName} {
      &__cta {
        &-btn {
          &-view {
            background-color: $color_red_6;
          }
        }
      }
      &__utility {
        &-ctas {
          &-btn {
            &--negative {
              @include material('none');
              background-color: $color_active;
              color: $font_color_inverse;
            }
          }
        }
      }
    }
  }
  &--neutral {
    #{$blockName} {
      &__cta {
        &-btn {
          &-view {
            background-color: $color_yellow_6;
          }
        }
      }
      &__utility {
        &-ctas {
          &-btn {
            &--neutral {
              @include material('none');
              background-color: $color_active;
              color: $font_color_inverse;
              #{$blockName} {
                &__utility {
                  &-ctas {
                    &-btn {
                      &-icon {
                        color: $font_color_inverse;
                      }
                      &-text {
                        color: $font_color_inverse
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  &--selected {
    #{$blockName} {
      &__cta {
        &-btn {
          background-color: $color_active;
          box-shadow: none;
          color: $font_color_inverse;
          &:hover {
            box-shadow: none;
          }
        }
        &-actionMenu {
          transform: scale(1) translate(0, -$spacing_small);
        }
      }
    }
  }
  &--noSignificantDiff {
    #{$blockName} {
      &__cell {
        &--target {
          background-color: transparent;
          color: $font_color_major;
        }
      }
    }
  }
  &--negativeDiff {
    #{$blockName} {
      &__cell {
        &--target {
          background-color: $color_red_5;
        }
      }
    }
  }
  &--stencilState {
    #{$blockName} {
      &__cta {
        &-btn {
          cursor: not-allowed;
        }
      }
      &__cell {
        @include mix_stencil_animation;
        background-color: $color_stencil;
        color: $color_stencil;
      }
    }
  }
}