<article
  [ngClass]="{
    'sat-tradeCenterPanel': true,
    'sat-tradeCenterPanel--keywordSearchActiveState': !!state.filters.keyword.actualValue && state.filters.keyword.actualValue.length >= 2,
    'sat-tradeCenterPanel--watchlistSelectedState': state.watchlists.selectedWatchlist,
    'sat-tradeCenterPanel--fetchDataFailedState': state.fetchResult.fetchTableDataFailed,
    'sat-tradeCenterPanel--boostConfiguratorState': state.configurator.boosted,
    'sat-tradeCenterPanel--editingDriverState': state.editingDriver,
    'sat-tradeCenterPanel--initialDataLoaded': state.fetchResult.initialDataLoadedInternalSyncFlag,
    'sat-tradeCenterPanel--viewingIncompleteResultState': state.fetchResult.initialDataLoadedInternalSyncFlag && state.fetchResult.mainTable.prinstineRowList.length < state.fetchResult.totalCount,
    'sat-tradeCenterPanel--watchlistSaveAvail': state.currentSearch.saveMode === constants.trade.TradeCenterPanelSearchSaveModes.available,
    'sat-tradeCenterPanel--watchlistSaveActive': state.currentSearch.saveMode === constants.trade.TradeCenterPanelSearchSaveModes.active,
    'sat-tradeCenterPanel--watchlistCallingAPI': state.currentSearch.saveMode === constants.trade.TradeCenterPanelSearchSaveModes.callingAPI
  }">
  <section class="sat-tradeCenterPanel__watchlists">
    <div class="sat-tradeCenterPanel__watchlists-content">
      <article
        [ngClass]="{
          'sat-tradeCenterWatchlistCategoryCanvas': true,
          'sat-tradeCenterWatchlistCategoryCanvas--top': true,
          'sat-tradeCenterWatchlistCategoryCanvas--readyState': state.watchlists.watchlistsReady
        }">
        <section class="sat-tradeCenterWatchlistCategoryCanvas__ribbon"></section>
        <ul class="sat-tradeCenterWatchlistCategoryCanvas__list">
          <li class="sat-tradeCenterWatchlistCategoryCanvas__list-item">
            <button
              (click)="onSelectWatchlistCategory(state.watchlists.portfolioWatchlistArray, true)"
              [ngClass]="{
                'sat-tradeCenterWatchlistCategoryCanvas__list-item-btn': true,
                'sat-tradeCenterWatchlistCategoryCanvas__list-item-btn--first': true,
                'sat-tradeCenterWatchlistCategoryCanvas__list-item-btn--selected': state.watchlists.selectedList === state.watchlists.portfolioWatchlistArray,
                'santaBtn--labelled': true,
                'santaBtn--inverseLabelled': true
              }">
              <i class="fal fa-file-invoice-dollar"></i>
              <span>Portfolio</span>
            </button>
          </li>
          <li class="sat-tradeCenterWatchlistCategoryCanvas__list-item">
            <button
              (click)="onSelectWatchlistCategory(state.watchlists.ownershipWatchlistArray, true)"
              [ngClass]="{
                'sat-tradeCenterWatchlistCategoryCanvas__list-item-btn': true,
                'sat-tradeCenterWatchlistCategoryCanvas__list-item-btn--second': true,
                'sat-tradeCenterWatchlistCategoryCanvas__list-item-btn--selected': state.watchlists.selectedList === state.watchlists.ownershipWatchlistArray,
                'santaBtn--labelled': true,
                'santaBtn--inverseLabelled': true
              }">
              <i class="fad fa-users"></i>
              <span>Ownership</span>
            </button>
          </li>
          <li class="sat-tradeCenterWatchlistCategoryCanvas__list-item">
            <button
              (click)="onSelectWatchlistCategory(state.watchlists.strategyWatchlistArray, true)"
              [ngClass]="{
                'sat-tradeCenterWatchlistCategoryCanvas__list-item-btn': true,
                'sat-tradeCenterWatchlistCategoryCanvas__list-item-btn--third': true,
                'sat-tradeCenterWatchlistCategoryCanvas__list-item-btn--selected': state.watchlists.selectedList === state.watchlists.strategyWatchlistArray,
                'santaBtn--labelled': true,
                'santaBtn--inverseLabelled': true
              }">
              <i class="fal fa-chess"></i>
              <span>Strategy</span>
            </button>
          </li>
        </ul>
        <section class="sat-tradeCenterWatchlistCategoryCanvas__title">
          <span class="sat-tradeCenterWatchlistCategoryCanvas__title-text">RPIA's Portfolios</span>
        </section>
      </article>
      <article
        [ngClass]="{
          'sat-tradeCenterWatchlistCanvas': true,
          'sat-tradeCenterWatchlistCanvas--categorySelectedState': state.watchlists.selectedList,
          'sat-tradeCenterWatchlistCanvas--topCategorySelectedState': !!state.watchlists.selectedCategoryFromTop,
          'sat-tradeCenterWatchlistCanvas--bottomCategorySelectedState': !!state.watchlists.selectedCategoryFromBottom,
          'sat-tradeCenterWatchlistCanvas--recentWatchlistVariant': state.watchlists.selectedList === state.watchlists.recentWatchlistArrays.fullList,
          'sat-tradeCenterWatchlistCanvas--savedWatchlistVariant': state.watchlists.selectedList === state.watchlists.savedWatchlistArray,
          'sat-tradeCenterWatchlistCanvas--deleteModeActivated': state.watchlists.savedWatchlistDeleteActivated
        }">
        <section class="sat-tradeCenterWatchlistCanvas__utilities">
          <button (click)="onToggleSavedWatchlistDeleteMode()" class="sat-tradeCenterWatchlistCanvas__utilities-deleteMode santaBtn--labelled santaBtn--inverseLabelled">
            <i class="fal fa-eraser"></i>
            <span>Delete Mode</span>
          </button>
          <i class="sat-tradeCenterWatchlistCanvas__utilities-deleteModeIcon fal fa-eraser"></i>
        </section>
        <section class="sat-tradeCenterWatchlistCanvas__timeSpecificDisplay">
          <div class="sat-tradeCenterWatchlistCanvas__timeSpecificDisplay-block">
            <span class="sat-tradeCenterWatchlistCanvas__timeSpecificDisplay-block-title">Today:</span>
            <ul class="sat-tradeCenterWatchlistCanvas__timeSpecificDisplay-block-list">
              <li
              *ngFor="let eachWatchlist of state.watchlists.recentWatchlistArrays.todayList"
              [ngClass]="{
                'sat-tradeCenterWatchlistCanvas__timeSpecificDisplay-block-list-item': true,
                'sat-tradeCenterWatchlistCanvas__timeSpecificDisplay-block-list-item--major': eachWatchlist.state.isMajorWatchlist,
                'sat-tradeCenterWatchlistCanvas__timeSpecificDisplay-block-list-item--hero': eachWatchlist.state.isHeroWatchlist
              }">
              <watchlist
                [watchlistData]="eachWatchlist"
                (onClickWatchlistCallback)="onSelectWatchlist($event, true)"
              ></watchlist>
              </li>
            </ul>
          </div>
          <div class="sat-tradeCenterWatchlistCanvas__timeSpecificDisplay-block">
            <span class="sat-tradeCenterWatchlistCanvas__timeSpecificDisplay-block-title">This Week:</span>
            <ul class="sat-tradeCenterWatchlistCanvas__timeSpecificDisplay-block-list">
              <li
              *ngFor="let eachWatchlist of state.watchlists.recentWatchlistArrays.thisWeekList"
              [ngClass]="{
                'sat-tradeCenterWatchlistCanvas__timeSpecificDisplay-block-list-item': true,
                'sat-tradeCenterWatchlistCanvas__timeSpecificDisplay-block-list-item--major': eachWatchlist.state.isMajorWatchlist,
                'sat-tradeCenterWatchlistCanvas__timeSpecificDisplay-block-list-item--hero': eachWatchlist.state.isHeroWatchlist
              }">
              <watchlist
                [watchlistData]="eachWatchlist"
                (onClickWatchlistCallback)="onSelectWatchlist($event, true)"
              ></watchlist>
              </li>
            </ul>
          </div>
          <div class="sat-tradeCenterWatchlistCanvas__timeSpecificDisplay-block">
            <span class="sat-tradeCenterWatchlistCanvas__timeSpecificDisplay-block-title">Last Week:</span>
            <ul class="sat-tradeCenterWatchlistCanvas__timeSpecificDisplay-block-list">
              <li
              *ngFor="let eachWatchlist of state.watchlists.recentWatchlistArrays.lastWeekList"
              [ngClass]="{
                'sat-tradeCenterWatchlistCanvas__timeSpecificDisplay-block-list-item': true,
                'sat-tradeCenterWatchlistCanvas__timeSpecificDisplay-block-list-item--major': eachWatchlist.state.isMajorWatchlist,
                'sat-tradeCenterWatchlistCanvas__timeSpecificDisplay-block-list-item--hero': eachWatchlist.state.isHeroWatchlist
              }">
              <watchlist
                [watchlistData]="eachWatchlist"
                (onClickWatchlistCallback)="onSelectWatchlist($event, true)"
              ></watchlist>
              </li>
            </ul>
          </div>
        </section>
        <ul class="sat-tradeCenterWatchlistCanvas__list">
          <li
            *ngFor="let eachWatchlist of state.watchlists.selectedList"
            [ngClass]="{
              'sat-tradeCenterWatchlistCanvas__list-item': true,
              'sat-tradeCenterWatchlistCanvas__list-item--major': eachWatchlist.state.isMajorWatchlist,
              'sat-tradeCenterWatchlistCanvas__list-item--hero': eachWatchlist.state.isHeroWatchlist
            }">
            <button (click)="onClickDeleteWatchlist(eachWatchlist)" class="sat-tradeCenterWatchlistCanvas__list-item-deleteBtn santaBtn--iconOnly fal fa-eraser"></button>
            <watchlist
              [watchlistData]="eachWatchlist"
              (onClickWatchlistCallback)="onSelectWatchlist($event, true)"
            ></watchlist>
          </li>
        </ul>
      </article>
      <article
        [ngClass]="{
          'sat-tradeCenterWatchlistCategoryCanvas': true,
          'sat-tradeCenterWatchlistCategoryCanvas--bottom': true,
          'sat-tradeCenterWatchlistCategoryCanvas--readyState': state.watchlists.watchlistsReady
        }">
        <section class="sat-tradeCenterWatchlistCategoryCanvas__ribbon"></section>
        <ul class="sat-tradeCenterWatchlistCategoryCanvas__list">
          <li class="sat-tradeCenterWatchlistCategoryCanvas__list-item">
            <button
              (click)="onSelectWatchlistCategory(state.watchlists.trendingWatchlistArray, false)"
              [ngClass]="{
                'sat-tradeCenterWatchlistCategoryCanvas__list-item-btn': true,
                'sat-tradeCenterWatchlistCategoryCanvas__list-item-btn--first': true,
                'sat-tradeCenterWatchlistCategoryCanvas__list-item-btn--selected': state.watchlists.selectedList === state.watchlists.trendingWatchlistArray,
                'santaBtn--labelled': true,
                'santaBtn--inverseLabelled': true
              }">
              <i class="fal fa-fire"></i>
              <span>Trending</span>
            </button>
          </li>
          <li class="sat-tradeCenterWatchlistCategoryCanvas__list-item">
            <button
              (click)="onSelectWatchlistCategory(state.watchlists.savedWatchlistArray, false)"
              [ngClass]="{
                'sat-tradeCenterWatchlistCategoryCanvas__list-item-btn': true,
                'sat-tradeCenterWatchlistCategoryCanvas__list-item-btn--second': true,
                'sat-tradeCenterWatchlistCategoryCanvas__list-item-btn--selected': state.watchlists.selectedList === state.watchlists.savedWatchlistArray,
                'santaBtn--labelled': true,
                'santaBtn--inverseLabelled': true
              }">
              <i class="fad fa-download"></i>
              <span>Saved</span>
            </button>
          </li>
          <li class="sat-tradeCenterWatchlistCategoryCanvas__list-item">
            <button
              (click)="onSelectWatchlistCategory(state.watchlists.recentWatchlistArrays.fullList, false)"
              [ngClass]="{
                'sat-tradeCenterWatchlistCategoryCanvas__list-item-btn': true,
                'sat-tradeCenterWatchlistCategoryCanvas__list-item-btn--third': true,
                'sat-tradeCenterWatchlistCategoryCanvas__list-item-btn--selected': state.watchlists.selectedList === state.watchlists.recentWatchlistArrays.fullList,
                'santaBtn--labelled': true,
                'santaBtn--inverseLabelled': true
              }">
              <i class="fal fa-history"></i>
              <span>Recent</span>
            </button>
          </li>
        </ul>
        <section class="sat-tradeCenterWatchlistCategoryCanvas__title">
          <span class="sat-tradeCenterWatchlistCategoryCanvas__title-text">Explore Universe</span>
        </section>
      </article>
      <article
        [ngClass]="{
          'sat-tradeCenterPanelSearchEngine': true,
          'sat-tradeCenterPanelSearchEngine--typeaheadActive': state.searchEngine.typeaheadActive,
          'sat-tradeCenterPanelSearchEngine--bicsEntered': state.searchEngine.constructedSearchBucket.BICS.length > 0,
          'sat-tradeCenterPanelSearchEngine--tickerEntered': state.searchEngine.constructedSearchBucket.TICKER.length > 0,
          'sat-tradeCenterPanelSearchEngine--readyState': state.watchlists.watchlistsReady,
          'sat-tradeCenterPanelSearchEngine--longTypeaheadState': state.searchEngine.typeaheadEntries.length > constants.trade.SEARCH_ENGINE_LONG_TYPEAHEAD_THRESHOLD
        }">
        <section class="sat-tradeCenterPanelSearchEngine__bucket">
          <div class="sat-tradeCenterPanelSearchEngine__bucket-definition sat-tradeCenterPanelSearchEngine__bucket-definition--bics">
            <div class="sat-tradeCenterPanelSearchEngine__bucket-definition-icon">
              <security-definition
                [definitionData]="state.searchEngine.searchBucketDefinitionDTOs.BICS"
                [backgroundVariant]="true">
              </security-definition>
            </div>
            <div class="sat-tradeCenterPanelSearchEngine__bucket-definition-content">
              <span class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-label">BICS: </span>
              <ul class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-list">
                <li *ngFor="let eachEntry of state.searchEngine.constructedSearchBucket.BICS" class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-list-item">
                  <span class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-list-item-text">{{eachEntry.pristineText}} Lv. {{eachEntry.bicsLevel}}</span>
                  <i class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-list-item-plusIcon fal fa-plus"></i>
                </li>
              </ul>
              <button (click)="onClickRemoveLastInBucket('BICS')" class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-clearBtn santaBtn--iconOnly santaBtn--small fal fa-times"></button>
            </div>
          </div>
          <div class="sat-tradeCenterPanelSearchEngine__bucket-definition sat-tradeCenterPanelSearchEngine__bucket-definition--ticker">
            <div class="sat-tradeCenterPanelSearchEngine__bucket-definition-icon">
              <security-definition
                [definitionData]="state.searchEngine.searchBucketDefinitionDTOs.TICKER"
                [backgroundVariant]="true">
              </security-definition>
            </div>
            <div class="sat-tradeCenterPanelSearchEngine__bucket-definition-content">
              <span class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-label">Ticker: </span>
              <ul class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-list">
                <li *ngFor="let eachEntry of state.searchEngine.constructedSearchBucket.TICKER" class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-list-item">
                  <span class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-list-item-text">{{eachEntry.pristineText}}</span>
                  <i class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-list-item-plusIcon fal fa-plus"></i>
                </li>
              </ul>
              <button (click)="onClickRemoveLastInBucket('TICKER')" class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-clearBtn santaBtn--iconOnly santaBtn--small fal fa-times"></button>
            </div>
          </div>
        </section>
        <section class="sat-tradeCenterPanelSearchEngine__input">
          <santa-input
            [autoFocus]="true"
            [isHero]="true"
            [placeholder]="''"
            [label]="'Tickers / BICS'"
            [inputValue]="state.searchEngine.activeKeyword"
            [inverseColored]="true"
            (onInputChange)="onSearchEngineInputChange($event)"
            (onGenericKeyPressed)="onSearchEngineKeyPressed($event)">
          </santa-input>
          <button (click)="onClickSearchEngineSearchBonds()" class="sat-tradeCenterPanelSearchEngine__input-mainCTA santaBtn--labelled">
            <i class="fal fa-search"></i>
            <span>Search</span>
          </button>
        </section>
        <section class="sat-tradeCenterPanelSearchEngine__typeahead">
          <ul class="sat-tradeCenterPanelSearchEngine__typeahead-list">
            <li
              (mouseover)="onHoverTypeaheadEntry(eachEntryIndex)"
              (click)="onClickTypeaheadEntry(eachEntry)"
              *ngFor="let eachEntry of state.searchEngine.typeaheadEntries; let eachEntryIndex = index;"
              [ngClass]="{
                'sat-tradeCenterPanelSearchEngine__typeahead-list-item': true,
                'sat-tradeCenterPanelSearchEngine__typeahead-list-item--selected': state.searchEngine.selectedTypeaheadEntryIndex === eachEntryIndex
              }">
              <p class="sat-tradeCenterPanelSearchEngine__typeahead-list-item-displayText" [innerHtml]="eachEntry.displayText"></p>
              <span class="sat-tradeCenterPanelSearchEngine__typeahead-list-item-type">{{eachEntry.type}}</span>
            </li>
          </ul>
        </section>
        <section class="sat-tradeCenterPanelSearchEngine__background"></section>
        <section class="sat-tradeCenterPanelSearchEngine__keyboardShortcut">
          <div class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row">
            <span class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-text">Use keyboard</span>
            <div class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key">
              <i class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key-icon fal fa-arrow-up"></i>
            </div>
            <span class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-text">or</span>
            <div class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key">
              <i class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key-icon fal fa-arrow-down"></i>
            </div>
            <span class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-text">to navigate on the auto-complete results</span>
          </div>
          <div class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row">
            <span class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-text">Use keyboard</span>
            <div class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key">
              <i class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key-icon fal fa-arrow-to-right"></i>
              <span class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key-label">Tab</span>
            </div>
            <span class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-text">or</span>
            <div class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key">
              <i class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key-icon sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key-icon--enter fal fa-level-down fa-rotate-90"></i>
              <span class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key-label">Enter</span>
            </div>
            <span class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-text">to select an auto-complete result</span>
          </div>
          <div class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row">
            <span class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-text">Use keyboard</span>
            <div class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key">
              <i class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key-icon sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key-icon--enter fal fa-level-down fa-rotate-90"></i>
              <span class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key-label">Enter</span>
            </div>
            <span class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-text">to launch the search</span>
          </div>
        </section>
      </article>
    </div>
  </section>
  <section class="sat-tradeCenterPanel__utilities">
    <div class="sat-tradeCenterPanel__utilities-selectedWatchlist">
      <button (click)="onUnselectWatchlist()" class="sat-tradeCenterPanel__utilities-selectedWatchlist-back santaBtn--labelled">
        <i class="fal fa-arrow-left"></i>
        <span>Back To Home</span>
      </button>
      <watchlist
        *ngIf="state.currentSearch.previewWatchlist"
        [watchlistData]="state.currentSearch.previewWatchlist"
        (onChangeWatchlistNameCallback)="onChangeSaveWatchlistName($event)"
      ></watchlist>
      <button (click)="onActivateWatchlistSave()" class="sat-tradeCenterPanel__utilities-selectedWatchlist-save santaBtn--labelled santaBtn--inverseLabelled">
        <i class="fal fa-pencil"></i>
        <span>Save This Watchlist</span>
      </button>
      <button (click)="onSubmitSaveWatchlist()" class="sat-tradeCenterPanel__utilities-selectedWatchlist-submit santaBtn--labelled santaBtn--inverseLabelled">
        <i
          [ngClass]="{
            'fal': true,
            'fa-cloud-upload': state.currentSearch.saveMode !== constants.trade.TradeCenterPanelSearchSaveModes.callingAPI,
            'fa-circle-notch fa-spin': state.currentSearch.saveMode === constants.trade.TradeCenterPanelSearchSaveModes.callingAPI
          }">
        </i>
        <span>Submit</span>
      </button>
      <button (click)="onCancelWatchlistSave()" class="sat-tradeCenterPanel__utilities-selectedWatchlist-unactivate santaBtn--small santaBtn--iconOnly fal fa-times"></button>
    </div>
    <div class="sat-tradeCenterPanel__utilities-keywordSearch">
      <i class="sat-tradeCenterPanel__utilities-keywordSearch-activeIcon fal fa-search"></i>
      <santa-input
        [inputValue]="state.filters.keyword.defaultValueForUI"
        [label]="'filter security name by keyword'"
        (onInputChange)="onSearchKeywordChange($event)">
      </santa-input>
    </div>
    <div class="sat-tradeCenterPanel__utilities-tableRowCount">
      <div class="sat-tradeCenterPanel__utilities-tableRowCount-icon">
        <i class="sat-tradeCenterPanel__utilities-tableRowCount-icon-img fal fa-exclamation-square"></i>
      </div>
      <div class="sat-tradeCenterPanel__utilities-tableRowCount-content">
        <div class="sat-tradeCenterPanel__utilities-tableRowCount-content-mainRow">
          <span class="sat-tradeCenterPanel__utilities-tableRowCount-content-mainRow-label">Showing</span>
          <span class="sat-tradeCenterPanel__utilities-tableRowCount-content-mainRow-highlightValue">{{state.fetchResult.mainTable.rowList.length}}</span>
          <span class="sat-tradeCenterPanel__utilities-tableRowCount-content-mainRow-label">/</span>
          <span class="sat-tradeCenterPanel__utilities-tableRowCount-content-mainRow-value">{{state.fetchResult.totalCount}}</span>
          <span class="sat-tradeCenterPanel__utilities-tableRowCount-content-mainRow-label">Securities</span>
        </div>
        <div class="sat-tradeCenterPanel__utilities-tableRowCount-content-incompleteRow">
          <span class="sat-tradeCenterPanel__utilities-tableRowCount-content-incompleteRow-label">Capped at 5000, try to use more filters</span>
        </div>
      </div>
    </div>
    <div class="sat-tradeCenterPanel__utilities-driver">
      <span class="sat-tradeCenterPanel__utilities-driver-label">Driver :</span>
      <span class="sat-tradeCenterPanel__utilities-driver-value">{{constants.trade.DISPLAY_DRIVER_MAP[state.filters.driverType]}}</span>
      <div class="santaBtnGroup sat-tradeCenterPanel__utilities-driver-btnGroup">
        <button
          (click)="onSwitchDriver(constants.core.DEFAULT_DRIVER_IDENTIFIER)"
          [ngClass]="{
            'sat-tradeCenterPanel__utilities-driver-btnGroup-btn': true,
            'santaBtn--labelled': true,
            'sat-tradeCenterPanel__utilities-driver-btnGroup-btn--active': state.filters.driverType === constants.core.DEFAULT_DRIVER_IDENTIFIER
          }">
          <span>Combined</span>
        </button>
        <button
          (click)="onSwitchDriver('Spread')"
          [ngClass]="{
            'sat-tradeCenterPanel__utilities-driver-btnGroup-btn': true,
            'santaBtn--labelled': true,
            'sat-tradeCenterPanel__utilities-driver-btnGroup-btn--active': state.filters.driverType === 'Spread'
          }">
          <span>Spread</span>
        </button>
        <button
          (click)="onSwitchDriver('Yield')"
          [ngClass]="{
            'sat-tradeCenterPanel__utilities-driver-btnGroup-btn': true,
            'santaBtn--labelled': true,
            'sat-tradeCenterPanel__utilities-driver-btnGroup-btn--active': state.filters.driverType === 'Yield'
          }">
          <span>Yield</span>
        </button>
        <button
          (click)="onSwitchDriver('Price')"
          [ngClass]="{
            'sat-tradeCenterPanel__utilities-driver-btnGroup-btn': true,
            'santaBtn--labelled': true,
            'sat-tradeCenterPanel__utilities-driver-btnGroup-btn--active': state.filters.driverType === 'Price'
          }">
          <span>Price</span>
        </button>
      </div>
      <button (click)="onEditDriver()" class="sat-tradeCenterPanel__utilities-driver-editCta santaBtn--iconOnly fal fa-pencil"></button>
    </div>
  </section>
  <section class="sat-tradeCenterPanel__main">
    <div class="sat-tradeCenterPanel__main-configurator">
      <security-definition-configurator
        [configuratorData]="state.configurator.dto"
        (clickedApplyFilter)="onApplyFilter($event, true, null)"
        (buryConfigurator)="buryConfigurator()"
        (boostConfigurator)="boostConfigurator()"
      ></security-definition-configurator>
    </div>
    <div class="sat-tradeCenterPanel__main-table">
      <santa-table
        [tableName]="'tradeMain'"
        [activated]="!!state.watchlists.selectedWatchlist"
        [activePortfolios]="state.filters.quickFilters.portfolios"
        [tableData]="state.table.dto"
        [newRows]="state.fetchResult.mainTable.rowList"
        [receivedContentStage]="state.fetchResult.mainTable.currentContentStage"
        [receivedSecurityTableHeaderConfigsUpdate]="state.table.metrics"
        [liveUpdatedRows]="state.fetchResult.mainTable.liveUpdatedRowList"
        [activeTriCoreDriver]="state.filters.driverType"
        [removeRows]="state.fetchResult.mainTable.removalRowList"
        (selectedSecurityForAnalysis)="onSelectSecurityForAnalysis($event)"
      ></santa-table>
    </div>
  </section>
  <section class="sat-tradeCenterPanel__errorPrompt">
    <i class="sat-tradeCenterPanel__errorPrompt-icon fal fa-sad-tear"></i>
    <span class="sat-tradeCenterPanel__errorPrompt-title">Backend request failed due to </span>
    <span class="sat-tradeCenterPanel__errorPrompt-errorText">{{state.fetchResult.fetchTableDataFailedError}}</span>
    <!--
      <span class="sat-tradeCenterPanel__errorPrompt-errorText">If you are seeing it for the first time, it is likely caused by a security check. Click on this link to allow your browser talk to server:</span>
      <button class="sat-tradeCenterPanel__errorPrompt-btn" (click)="openLinkForCertificate()">Link</button>
      <button class="sat-tradeCenterPanel__errorPrompt-btn" (click)="refreshAfterOpenLink()">Try again after clicking link</button>
    -->
  </section>
</article>