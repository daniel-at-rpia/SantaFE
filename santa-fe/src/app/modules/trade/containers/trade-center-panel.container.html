<article
  [ngClass]="{
    'sat-tradeCenterPanel': true,
    'sat-tradeCenterPanel--keywordSearchActiveState': !!state.filters.keyword.actualValue && state.filters.keyword.actualValue.length >= 2,
    'sat-tradeCenterPanel--presetSelectedState': state.presets.selectedPreset,
    'sat-tradeCenterPanel--fetchDataFailedState': state.fetchResult.fetchTableDataFailed,
    'sat-tradeCenterPanel--boostConfiguratorState': state.configurator.boosted,
    'sat-tradeCenterPanel--editingDriverState': state.editingDriver,
    'sat-tradeCenterPanel--initialDataLoaded': state.fetchResult.initialDataLoadedInternalSyncFlag,
    'sat-tradeCenterPanel--viewingIncompleteResultState': state.fetchResult.initialDataLoadedInternalSyncFlag && state.fetchResult.mainTable.prinstineRowList.length < state.fetchResult.totalCount,
    'sat-tradeCenterPanel--presetSaveAvail': state.currentSearch.saveMode === constants.trade.TradeCenterPanelSearchSaveModes.available,
    'sat-tradeCenterPanel--presetSaveActive': state.currentSearch.saveMode === constants.trade.TradeCenterPanelSearchSaveModes.active
  }">
  <section class="sat-tradeCenterPanel__presets">
    <div class="sat-tradeCenterPanel__presets-content">
      <article
        [ngClass]="{
          'sat-tradeCenterPresetCategoryCanvas': true,
          'sat-tradeCenterPresetCategoryCanvas--top': true,
          'sat-tradeCenterPresetCategoryCanvas--readyState': state.presets.presetsReady
        }">
        <section class="sat-tradeCenterPresetCategoryCanvas__ribbon"></section>
        <ul class="sat-tradeCenterPresetCategoryCanvas__list">
          <li class="sat-tradeCenterPresetCategoryCanvas__list-item">
            <button
              (click)="onSelectPresetCategory(state.presets.portfolioShortcutList, true)"
              [ngClass]="{
                'sat-tradeCenterPresetCategoryCanvas__list-item-btn': true,
                'sat-tradeCenterPresetCategoryCanvas__list-item-btn--first': true,
                'sat-tradeCenterPresetCategoryCanvas__list-item-btn--selected': state.presets.selectedList === state.presets.portfolioShortcutList,
                'santaBtn--labelled': true,
                'santaBtn--inverseLabelled': true
              }">
              <i class="fal fa-file-invoice-dollar"></i>
              <span>Portfolio</span>
            </button>
          </li>
          <li class="sat-tradeCenterPresetCategoryCanvas__list-item">
            <button
              (click)="onSelectPresetCategory(state.presets.ownershipShortcutList, true)"
              [ngClass]="{
                'sat-tradeCenterPresetCategoryCanvas__list-item-btn': true,
                'sat-tradeCenterPresetCategoryCanvas__list-item-btn--second': true,
                'sat-tradeCenterPresetCategoryCanvas__list-item-btn--selected': state.presets.selectedList === state.presets.ownershipShortcutList,
                'santaBtn--labelled': true,
                'santaBtn--inverseLabelled': true
              }">
              <i class="fad fa-users"></i>
              <span>Ownership</span>
            </button>
          </li>
          <li class="sat-tradeCenterPresetCategoryCanvas__list-item">
            <button
              (click)="onSelectPresetCategory(state.presets.strategyShortcutList, true)"
              [ngClass]="{
                'sat-tradeCenterPresetCategoryCanvas__list-item-btn': true,
                'sat-tradeCenterPresetCategoryCanvas__list-item-btn--third': true,
                'sat-tradeCenterPresetCategoryCanvas__list-item-btn--selected': state.presets.selectedList === state.presets.strategyShortcutList,
                'santaBtn--labelled': true,
                'santaBtn--inverseLabelled': true
              }">
              <i class="fal fa-chess"></i>
              <span>Strategy</span>
            </button>
          </li>
        </ul>
        <section class="sat-tradeCenterPresetCategoryCanvas__title">
          <span class="sat-tradeCenterPresetCategoryCanvas__title-text">RPIA's Portfolios</span>
        </section>
      </article>
      <article
        [ngClass]="{
          'sat-tradeCenterPresetShortcutCanvas': true,
          'sat-tradeCenterPresetShortcutCanvas--categorySelectedState': state.presets.selectedList,
          'sat-tradeCenterPresetShortcutCanvas--topCategorySelectedState': !!state.presets.selectedCategoryFromTop,
          'sat-tradeCenterPresetShortcutCanvas--bottomCategorySelectedState': !!state.presets.selectedCategoryFromBottom,
          'sat-tradeCenterPresetShortcutCanvas--timeSpecificCategoryState': state.presets.selectedList === state.presets.recentWatchlistShortcuts.fullList
        }">
        <div class="sat-tradeCenterPresetShortcutCanvas__timeSpecificDisplay">
          <div class="sat-tradeCenterPresetShortcutCanvas__timeSpecificDisplay-block">
            <span class="sat-tradeCenterPresetShortcutCanvas__timeSpecificDisplay-block-title">Today:</span>
            <ul class="sat-tradeCenterPresetShortcutCanvas__timeSpecificDisplay-block-list">
              <li
              *ngFor="let eachShortcut of state.presets.recentWatchlistShortcuts.todayList"
              [ngClass]="{
                'sat-tradeCenterPresetShortcutCanvas__timeSpecificDisplay-block-list-item': true,
                'sat-tradeCenterPresetShortcutCanvas__timeSpecificDisplay-block-list-item--major': eachShortcut.state.isMajorShortcut,
                'sat-tradeCenterPresetShortcutCanvas__timeSpecificDisplay-block-list-item--hero': eachShortcut.state.isHeroShortcut
              }">
              <search-shortcut
                [shortcutData]="eachShortcut"
                (onClickShortcutCallback)="onSelectPreset($event, true)"
              ></search-shortcut>
              </li>
            </ul>
          </div>
          <div class="sat-tradeCenterPresetShortcutCanvas__timeSpecificDisplay-block">
            <span class="sat-tradeCenterPresetShortcutCanvas__timeSpecificDisplay-block-title">This Week:</span>
            <ul class="sat-tradeCenterPresetShortcutCanvas__timeSpecificDisplay-block-list">
              <li
              *ngFor="let eachShortcut of state.presets.recentWatchlistShortcuts.thisWeekList"
              [ngClass]="{
                'sat-tradeCenterPresetShortcutCanvas__timeSpecificDisplay-block-list-item': true,
                'sat-tradeCenterPresetShortcutCanvas__timeSpecificDisplay-block-list-item--major': eachShortcut.state.isMajorShortcut,
                'sat-tradeCenterPresetShortcutCanvas__timeSpecificDisplay-block-list-item--hero': eachShortcut.state.isHeroShortcut
              }">
              <search-shortcut
                [shortcutData]="eachShortcut"
                (onClickShortcutCallback)="onSelectPreset($event, true)"
              ></search-shortcut>
              </li>
            </ul>
          </div>
          <div class="sat-tradeCenterPresetShortcutCanvas__timeSpecificDisplay-block">
            <span class="sat-tradeCenterPresetShortcutCanvas__timeSpecificDisplay-block-title">Last Week:</span>
            <ul class="sat-tradeCenterPresetShortcutCanvas__timeSpecificDisplay-block-list">
              <li
              *ngFor="let eachShortcut of state.presets.recentWatchlistShortcuts.lastWeekList"
              [ngClass]="{
                'sat-tradeCenterPresetShortcutCanvas__timeSpecificDisplay-block-list-item': true,
                'sat-tradeCenterPresetShortcutCanvas__timeSpecificDisplay-block-list-item--major': eachShortcut.state.isMajorShortcut,
                'sat-tradeCenterPresetShortcutCanvas__timeSpecificDisplay-block-list-item--hero': eachShortcut.state.isHeroShortcut
              }">
              <search-shortcut
                [shortcutData]="eachShortcut"
                (onClickShortcutCallback)="onSelectPreset($event, true)"
              ></search-shortcut>
              </li>
            </ul>
          </div>
        </div>
        <ul class="sat-tradeCenterPresetShortcutCanvas__list">
          <li
            *ngFor="let eachShortcut of state.presets.selectedList"
            [ngClass]="{
              'sat-tradeCenterPresetShortcutCanvas__list-item': true,
              'sat-tradeCenterPresetShortcutCanvas__list-item--major': eachShortcut.state.isMajorShortcut,
              'sat-tradeCenterPresetShortcutCanvas__list-item--hero': eachShortcut.state.isHeroShortcut
            }">
            <search-shortcut
              [shortcutData]="eachShortcut"
              (onClickShortcutCallback)="onSelectPreset($event, true)"
            ></search-shortcut>
          </li>
        </ul>
      </article>
      <article
        [ngClass]="{
          'sat-tradeCenterPresetCategoryCanvas': true,
          'sat-tradeCenterPresetCategoryCanvas--bottom': true,
          'sat-tradeCenterPresetCategoryCanvas--readyState': state.presets.presetsReady
        }">
        <section class="sat-tradeCenterPresetCategoryCanvas__ribbon"></section>
        <ul class="sat-tradeCenterPresetCategoryCanvas__list">
          <li class="sat-tradeCenterPresetCategoryCanvas__list-item">
            <button
              (click)="onSelectPresetCategory(state.presets.trendingWatchlistShortcutList, false)"
              [ngClass]="{
                'sat-tradeCenterPresetCategoryCanvas__list-item-btn': true,
                'sat-tradeCenterPresetCategoryCanvas__list-item-btn--first': true,
                'sat-tradeCenterPresetCategoryCanvas__list-item-btn--selected': state.presets.selectedList === state.presets.trendingWatchlistShortcutList,
                'santaBtn--labelled': true,
                'santaBtn--inverseLabelled': true
              }">
              <i class="fal fa-fire"></i>
              <span>Trending</span>
            </button>
          </li>
          <li class="sat-tradeCenterPresetCategoryCanvas__list-item">
            <button
              (click)="onSelectPresetCategory(state.presets.savedWatchlistShortcutList, false)"
              [ngClass]="{
                'sat-tradeCenterPresetCategoryCanvas__list-item-btn': true,
                'sat-tradeCenterPresetCategoryCanvas__list-item-btn--second': true,
                'sat-tradeCenterPresetCategoryCanvas__list-item-btn--selected': state.presets.selectedList === state.presets.savedWatchlistShortcutList,
                'santaBtn--labelled': true,
                'santaBtn--inverseLabelled': true
              }">
              <i class="fad fa-download"></i>
              <span>Saved</span>
            </button>
          </li>
          <li class="sat-tradeCenterPresetCategoryCanvas__list-item">
            <button
              (click)="onSelectPresetCategory(state.presets.recentWatchlistShortcuts.fullList, false)"
              [ngClass]="{
                'sat-tradeCenterPresetCategoryCanvas__list-item-btn': true,
                'sat-tradeCenterPresetCategoryCanvas__list-item-btn--third': true,
                'sat-tradeCenterPresetCategoryCanvas__list-item-btn--selected': state.presets.selectedList === state.presets.recentWatchlistShortcuts.fullList,
                'santaBtn--labelled': true,
                'santaBtn--inverseLabelled': true
              }">
              <i class="fal fa-history"></i>
              <span>Recent</span>
            </button>
          </li>
        </ul>
        <section class="sat-tradeCenterPresetCategoryCanvas__title">
          <span class="sat-tradeCenterPresetCategoryCanvas__title-text">Explore Universe</span>
        </section>
      </article>
      <article
        [ngClass]="{
          'sat-tradeCenterPanelSearchEngine': true,
          'sat-tradeCenterPanelSearchEngine--typeaheadActive': state.searchEngine.typeaheadActive,
          'sat-tradeCenterPanelSearchEngine--bicsEntered': state.searchEngine.constructedSearchBucket.BICS.length > 0,
          'sat-tradeCenterPanelSearchEngine--tickerEntered': state.searchEngine.constructedSearchBucket.TICKER.length > 0,
          'sat-tradeCenterPanelSearchEngine--readyState': state.presets.presetsReady,
          'sat-tradeCenterPanelSearchEngine--longTypeaheadState': state.searchEngine.typeaheadEntries.length > constants.trade.SEARCH_ENGINE_LONG_TYPEAHEAD_THRESHOLD
        }">
        <section class="sat-tradeCenterPanelSearchEngine__bucket">
          <div class="sat-tradeCenterPanelSearchEngine__bucket-definition sat-tradeCenterPanelSearchEngine__bucket-definition--bics">
            <div class="sat-tradeCenterPanelSearchEngine__bucket-definition-icon">
              <security-definition
                [definitionData]="state.searchEngine.searchBucketDefinitionDTOs.BICS"
                [backgroundVariant]="true">
              </security-definition>
            </div>
            <div class="sat-tradeCenterPanelSearchEngine__bucket-definition-content">
              <span class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-label">BICS: </span>
              <ul class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-list">
                <li *ngFor="let eachEntry of state.searchEngine.constructedSearchBucket.BICS" class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-list-item">
                  <span class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-list-item-text">{{eachEntry.pristineText}} Lv. {{eachEntry.bicsLevel}}</span>
                  <i class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-list-item-plusIcon fal fa-plus"></i>
                </li>
              </ul>
              <button (click)="onClickRemoveLastInBucket('BICS')" class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-clearBtn santaBtn--iconOnly santaBtn--small fal fa-times"></button>
            </div>
          </div>
          <div class="sat-tradeCenterPanelSearchEngine__bucket-definition sat-tradeCenterPanelSearchEngine__bucket-definition--ticker">
            <div class="sat-tradeCenterPanelSearchEngine__bucket-definition-icon">
              <security-definition
                [definitionData]="state.searchEngine.searchBucketDefinitionDTOs.TICKER"
                [backgroundVariant]="true">
              </security-definition>
            </div>
            <div class="sat-tradeCenterPanelSearchEngine__bucket-definition-content">
              <span class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-label">Ticker: </span>
              <ul class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-list">
                <li *ngFor="let eachEntry of state.searchEngine.constructedSearchBucket.TICKER" class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-list-item">
                  <span class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-list-item-text">{{eachEntry.pristineText}}</span>
                  <i class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-list-item-plusIcon fal fa-plus"></i>
                </li>
              </ul>
              <button (click)="onClickRemoveLastInBucket('TICKER')" class="sat-tradeCenterPanelSearchEngine__bucket-definition-content-clearBtn santaBtn--iconOnly santaBtn--small fal fa-times"></button>
            </div>
          </div>
        </section>
        <section class="sat-tradeCenterPanelSearchEngine__input">
          <santa-input
            [autoFocus]="true"
            [isHero]="true"
            [placeholder]="''"
            [label]="'Tickers / BICS'"
            [inputValue]="state.searchEngine.activeKeyword"
            [inverseColored]="true"
            (onInputChange)="onSearchEngineInputChange($event)"
            (onGenericKeyPressed)="onSearchEngineKeyPressed($event)">
          </santa-input>
          <button (click)="onClickSearchEngineSearchBonds()" class="sat-tradeCenterPanelSearchEngine__input-mainCTA santaBtn--labelled">
            <i class="fal fa-search"></i>
            <span>Search</span>
          </button>
        </section>
        <section class="sat-tradeCenterPanelSearchEngine__typeahead">
          <ul class="sat-tradeCenterPanelSearchEngine__typeahead-list">
            <li
              (mouseover)="onHoverTypeaheadEntry(eachEntryIndex)"
              (click)="onClickTypeaheadEntry(eachEntry)"
              *ngFor="let eachEntry of state.searchEngine.typeaheadEntries; let eachEntryIndex = index;"
              [ngClass]="{
                'sat-tradeCenterPanelSearchEngine__typeahead-list-item': true,
                'sat-tradeCenterPanelSearchEngine__typeahead-list-item--selected': state.searchEngine.selectedTypeaheadEntryIndex === eachEntryIndex
              }">
              <p class="sat-tradeCenterPanelSearchEngine__typeahead-list-item-displayText" [innerHtml]="eachEntry.displayText"></p>
              <span class="sat-tradeCenterPanelSearchEngine__typeahead-list-item-type">{{eachEntry.type}}</span>
            </li>
          </ul>
        </section>
        <section class="sat-tradeCenterPanelSearchEngine__background"></section>
        <section class="sat-tradeCenterPanelSearchEngine__keyboardShortcut">
          <div class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row">
            <span class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-text">Use keyboard</span>
            <div class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key">
              <i class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key-icon fal fa-arrow-up"></i>
            </div>
            <span class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-text">or</span>
            <div class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key">
              <i class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key-icon fal fa-arrow-down"></i>
            </div>
            <span class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-text">to navigate on the auto-complete results</span>
          </div>
          <div class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row">
            <span class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-text">Use keyboard</span>
            <div class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key">
              <i class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key-icon fal fa-arrow-to-right"></i>
              <span class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key-label">Tab</span>
            </div>
            <span class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-text">or</span>
            <div class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key">
              <i class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key-icon sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key-icon--enter fal fa-level-down fa-rotate-90"></i>
              <span class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key-label">Enter</span>
            </div>
            <span class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-text">to select an auto-complete result</span>
          </div>
          <div class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row">
            <span class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-text">Use keyboard</span>
            <div class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key">
              <i class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key-icon sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key-icon--enter fal fa-level-down fa-rotate-90"></i>
              <span class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-key-label">Enter</span>
            </div>
            <span class="sat-tradeCenterPanelSearchEngine__keyboardShortcut-row-text">to launch the search</span>
          </div>
        </section>
      </article>
    </div>
  </section>
  <section class="sat-tradeCenterPanel__utilities">
    <div class="sat-tradeCenterPanel__utilities-selectedPreset">
      <button (click)="onUnselectPreset()" class="sat-tradeCenterPanel__utilities-selectedPreset-back santaBtn--labelled">
        <i class="fal fa-arrow-left"></i>
        <span>Back To Presets</span>
      </button>
      <search-shortcut
        *ngIf="state.currentSearch.previewShortcut"
        [shortcutData]="state.currentSearch.previewShortcut"
      ></search-shortcut>
      <button (click)="onActivatePresetSave()" class="sat-tradeCenterPanel__utilities-selectedPreset-save santaBtn--labelled santaBtn--inverseLabelled">
        <i class="fal fa-cloud-upload"></i>
        <span>Save This Preset</span>
      </button>
      <button class="sat-tradeCenterPanel__utilities-selectedPreset-submit santaBtn--labelled santaBtn--inverseLabelled">
        <i class="fal fa-cloud-upload"></i>
        <span>Submit</span>
      </button>
      <button class="sat-tradeCenterPanel__utilities-selectedPreset-unactivate santaBtn--small santaBtn--iconOnly fal fa-times"></button>
    </div>
    <div class="sat-tradeCenterPanel__utilities-keywordSearch">
      <i class="sat-tradeCenterPanel__utilities-keywordSearch-activeIcon fal fa-search"></i>
      <santa-input
        [inputValue]="state.filters.keyword.defaultValueForUI"
        [label]="'filter security name by keyword'"
        (onInputChange)="onSearchKeywordChange($event)">
      </santa-input>
    </div>
    <div class="sat-tradeCenterPanel__utilities-tableRowCount">
      <div class="sat-tradeCenterPanel__utilities-tableRowCount-icon">
        <i class="sat-tradeCenterPanel__utilities-tableRowCount-icon-img fal fa-exclamation-square"></i>
      </div>
      <div class="sat-tradeCenterPanel__utilities-tableRowCount-content">
        <div class="sat-tradeCenterPanel__utilities-tableRowCount-content-mainRow">
          <span class="sat-tradeCenterPanel__utilities-tableRowCount-content-mainRow-label">Showing</span>
          <span class="sat-tradeCenterPanel__utilities-tableRowCount-content-mainRow-highlightValue">{{state.fetchResult.mainTable.rowList.length}}</span>
          <span class="sat-tradeCenterPanel__utilities-tableRowCount-content-mainRow-label">/</span>
          <span class="sat-tradeCenterPanel__utilities-tableRowCount-content-mainRow-value">{{state.fetchResult.totalCount}}</span>
          <span class="sat-tradeCenterPanel__utilities-tableRowCount-content-mainRow-label">Securities</span>
        </div>
        <div class="sat-tradeCenterPanel__utilities-tableRowCount-content-incompleteRow">
          <span class="sat-tradeCenterPanel__utilities-tableRowCount-content-incompleteRow-label">Capped at 5000, try to use more filters</span>
        </div>
      </div>
    </div>
    <div class="sat-tradeCenterPanel__utilities-driver">
      <span class="sat-tradeCenterPanel__utilities-driver-label">Driver :</span>
      <span class="sat-tradeCenterPanel__utilities-driver-value">{{constants.trade.DISPLAY_DRIVER_MAP[state.filters.driverType]}}</span>
      <div class="santaBtnGroup sat-tradeCenterPanel__utilities-driver-btnGroup">
        <button
          (click)="onSwitchDriver(constants.core.DEFAULT_DRIVER_IDENTIFIER)"
          [ngClass]="{
            'sat-tradeCenterPanel__utilities-driver-btnGroup-btn': true,
            'santaBtn--labelled': true,
            'sat-tradeCenterPanel__utilities-driver-btnGroup-btn--active': state.filters.driverType === constants.core.DEFAULT_DRIVER_IDENTIFIER
          }">
          <span>Combined</span>
        </button>
        <button
          (click)="onSwitchDriver('Spread')"
          [ngClass]="{
            'sat-tradeCenterPanel__utilities-driver-btnGroup-btn': true,
            'santaBtn--labelled': true,
            'sat-tradeCenterPanel__utilities-driver-btnGroup-btn--active': state.filters.driverType === 'Spread'
          }">
          <span>Spread</span>
        </button>
        <button
          (click)="onSwitchDriver('Yield')"
          [ngClass]="{
            'sat-tradeCenterPanel__utilities-driver-btnGroup-btn': true,
            'santaBtn--labelled': true,
            'sat-tradeCenterPanel__utilities-driver-btnGroup-btn--active': state.filters.driverType === 'Yield'
          }">
          <span>Yield</span>
        </button>
        <button
          (click)="onSwitchDriver('Price')"
          [ngClass]="{
            'sat-tradeCenterPanel__utilities-driver-btnGroup-btn': true,
            'santaBtn--labelled': true,
            'sat-tradeCenterPanel__utilities-driver-btnGroup-btn--active': state.filters.driverType === 'Price'
          }">
          <span>Price</span>
        </button>
      </div>
      <button (click)="onEditDriver()" class="sat-tradeCenterPanel__utilities-driver-editCta santaBtn--iconOnly fal fa-pencil"></button>
    </div>
  </section>
  <section class="sat-tradeCenterPanel__main">
    <div class="sat-tradeCenterPanel__main-configurator">
      <security-definition-configurator
        [configuratorData]="state.configurator.dto"
        (clickedApplyFilter)="onApplyFilter($event, true, null)"
        (buryConfigurator)="buryConfigurator()"
        (boostConfigurator)="boostConfigurator()"
      ></security-definition-configurator>
    </div>
    <div class="sat-tradeCenterPanel__main-table">
      <santa-table
        [tableName]="'tradeMain'"
        [activated]="!!state.presets.selectedPreset"
        [activePortfolios]="state.filters.quickFilters.portfolios"
        [tableData]="state.table.dto"
        [newRows]="state.fetchResult.mainTable.rowList"
        [receivedContentStage]="state.fetchResult.mainTable.currentContentStage"
        [receivedSecurityTableHeaderConfigsUpdate]="state.table.metrics"
        [liveUpdatedRows]="state.fetchResult.mainTable.liveUpdatedRowList"
        [activeTriCoreDriver]="state.filters.driverType"
        [removeRows]="state.fetchResult.mainTable.removalRowList"
        (selectedSecurityForAnalysis)="onSelectSecurityForAnalysis($event)"
      ></santa-table>
    </div>
  </section>
  <section class="sat-tradeCenterPanel__errorPrompt">
    <i class="sat-tradeCenterPanel__errorPrompt-icon fal fa-sad-tear"></i>
    <span class="sat-tradeCenterPanel__errorPrompt-title">Backend request failed due to </span>
    <span class="sat-tradeCenterPanel__errorPrompt-errorText">{{state.fetchResult.fetchTableDataFailedError}}</span>
    <!--
      <span class="sat-tradeCenterPanel__errorPrompt-errorText">If you are seeing it for the first time, it is likely caused by a security check. Click on this link to allow your browser talk to server:</span>
      <button class="sat-tradeCenterPanel__errorPrompt-btn" (click)="openLinkForCertificate()">Link</button>
      <button class="sat-tradeCenterPanel__errorPrompt-btn" (click)="refreshAfterOpenLink()">Try again after clicking link</button>
    -->
  </section>
</article>