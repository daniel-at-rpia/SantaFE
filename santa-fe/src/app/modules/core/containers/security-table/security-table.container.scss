@import "global.scss";


$securityTable_cell_width: 8.75rem;
$securityTable_cell_width_primary: $securityCard_width + $spacing_small * 2;
$securityTable_cell_width_quant: 8.75rem * 2;
.sat-securityTable {
  $securityTableBlockName: &;
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  &__main {
    @include mix_enable_scrollbar('horizontal');
    display: flex;
    &-table {
      display: flex;
      flex-direction: column;
      &-head {
        flex: 0 0 auto;
        padding: 0 $spacing_medium 0 $spacing_medium;
        margin-left: $scroll_bar_width;
        &-row {
          display: flex;
          text-align: center;
          background-color: $color_blue_gray_5;
          color: $font_color_inverse;
        }
      }
      &-body {
        @include mix_enable_scrollbar('vertial');
        flex: 1 1 auto;
        display: flex;
        flex-direction: column;
        direction: rtl;
        padding: 0 $spacing_medium;
        .sat-securityTableRow {
          direction: ltr;
        }
      }
    }
  }
  &--stencilState {
  }
}

.sat-securityTableHead {
  $securityTableHeadBlockName: &;
  @include mix_fixed_div(relative, $z_index_standard_base_item);
  display: flex;
  justify-content: center;
  width: $securityTable_cell_width;
  padding: $spacing_small 0;
  &__text {
    display: none;
    font-size: $font_size_small;
    text-align: center;
  }
  &__cta {
    @include mix_fixed_div(relative, $z_index_standard_base_item);
    flex: 1 1 auto;
    padding: $spacing_x_small $spacing_small;
    margin: 0 $spacing_small;
    &-icon {
      @include mix_fixed_div(absolute, $z_index_standard_base_item_lift);
      @include mix_border_radius(50%);
      @include mix_alive('light');
      display: none;
      justify-content: center;
      align-items: center;
      width: $iconButton_size_small;
      height: $iconButton_size_small;
      top: -$iconButton_size_small/3;
      right: -$iconButton_size_small/3;
      background-color: $color_sort;
      color: $font_color_inverse;
    }
    &-text {
      font-size: $font_size_small;
    }
  }
  &__actionMenu {
    @include mix_fixed_div(absolute, $z_index_standard_hovering_item);
    @include mix_alive('custom', transform $animation_duration_light);
    display: flex;
    transform: scale(0.01) translate(0, -200%);
    top: 80%;
    &-deleteBtn {
      @include mix_border_radius(50%);
      margin: 0 $spacing_x_small;
      background-color: $color_kill;
      color: $font_color_inverse;
    }
    &-editBtn {
      @include mix_border_radius(50%);
      margin: 0 $spacing_x_small;
    }
    &-sortBtn {
      @include mix_border_radius(50%);
      margin: 0 $spacing_x_small;
      background-color: $color_sort;
      color: $font_color_inverse;
    }
  }
  &--securityCardVariant {
    width: $securityTable_cell_width_primary;
    align-items: center;
    #{$securityTableHeadBlockName} {
      &__text {
        display: inline-block;
      }
      &__cta {
        display: none;
      }
      &__actionMenu {
        display: none;
      }
    }
  }
  &--quantVariant {
    width: $securityTable_cell_width_quant;
  }
  &--sortedState {
    #{$securityTableHeadBlockName} {
      &__cta {
        background-color: $color_sort;
        &-icon {
          display: flex;
        }
        &-text {
          color: $font_color_inverse;
        }
      }
    }
  }
  &--selectedState {
    #{$securityTableHeadBlockName} {
      &__cta {
        @include material('none');
        background-color: $color_active;
        color: $font_color_inverse;
        &-icon {
          background-color: $color_active;
          color: $font_color_inverse;
        }
      }
      &__actionMenu {
        transform: scale(1) translate(0, 0);
      }
    }
  }
}


$securityTableRow_expandCanvas_height: 40rem + $spacing_medium * 2;
.sat-securityTableRow {
  $securityTableRowBlockName: &;
  @include mix_fixed_div(relative, $z_index_standard_base_item_solid);
  display: flex;
  flex-direction: column;
  &__tableCanvas {
    @include mix_alive('material');
    display: flex;
  }
  &__expandCanvas {
    display: flex;
    flex-direction: column;
    max-height: 0;
    overflow: hidden;
    &-content {
      @include mix_alive('custom', transform $animation_duration_light);
      flex: 1 1 auto;
      display: flex;
      flex-direction: column;
      transform: translate(0, -100%);
      background-color: $color_active;
      overflow: hidden;
      &-spacing {
        @include mix_border_generator($typical_border_width 0 0 0, $color_white);
        height: $spacing_small;
        margin: $spacing_small $spacing_large 0 $spacing_large;
      }
      &-label {
        display: flex;
        padding-left: $SecurityQuote_time_width + $spacing_small;
        padding-right: $SecurityQuote_ctas_width + $spacing_small + $scroll_bar_width + $spacing_x_small;
        margin-bottom: $spacing_x_small;
        &-spacing {
          @include mix_border_generator(0 $typical_border_width 0 0);
          width: $SecurityQuote_spacing_height;
          height: 100%;
          margin-right: $SecurityQuote_spacing_height;
        }
      }
      &-messageList {
        @include mix_enable_scrollbar('vertical');
        display: flex;
        flex-direction: column;
        margin-right: $spacing_small;
      }
      &-collapseBtn {
        @include mix_border_radius(50%);
        align-self: center;
        margin: $spacing_medium;
        background-color: $color_kill;
        color: $font_color_inverse;
      }
    }
  }
  &:nth-child(odd) {
    background-color: $color_gray_2;
    color: $font_color_minor;
  }
  &:nth-child(even) {
    background-color: $color_blue_gray_1;
    color: $color_blue_gray_8;
  }
  &:hover {
    @include mix_fixed_div(relative, $z_index_standard_base_item_lift);
    #{$securityTableRowBlockName} {
      &__tableCanvas {
        @include material();
        background-color: $color_white;
      }
    }
  }
  &--expandedState {
    #{$securityTableRowBlockName} {
      &__tableCanvas {
        background-color: $color_active;
        .sat-securityTableCell {
          &__metric {
            &-text {
              color: $font_color_inverse;
            }
          }
        }
      }
      &__expandCanvas {
        max-height: $securityTableRow_expandCanvas_height;
        &-content {
          transform: translate(0, 0);
        }
      }
    }
  }
  &--expandedState:hover {
    #{$securityTableRowBlockName} {
      &__tableCanvas {
        background-color: $color_active;
        @include material('none');
      }
    }
  }
}

.sat-securityTableRowExpandViewLabel {
  $securityTableRowExpandViewLabel: &;
  flex: 1 1 5%;
  display: flex;
  justify-content: center;
  align-items: center;
  color: $font_color_inverse;
  font-size: $font_size_small;
  &-cta {
    padding: $spacing_x_small;
    &:first-of-type {
      margin-right: $spacing_x_small;
    }
    &:nth-of-type(2) {
      margin-left: $spacing_x_small;
    }
  }
  &--long {
    flex: 1 1 10%;
  }
  &--veryLong {
    flex: 1 1 15%;
  }
}

.sat-securityTableCell {
  $securityTableCellBlockName: &;
  display: flex;
  justify-content: center;
  align-items: center;
  width: $securityTable_cell_width;
  padding: $spacing_x_small 0;
  &__metric {
    flex: 1 1 auto;
    display: flex;
    justify-content: center;
    align-items: center;
    &-text {
      text-align: center;
      padding: 0 $spacing_small;
      user-select: none;
    }
  }
  &__quant {
    flex: 1 1 auto;
    display: none;
    quant-comparer {
      flex: 1 1 auto;
    }
  }
  &--securityCardVariant {
    width: $securityTable_cell_width_primary;
  }
  &--quantVariant {
    width: $securityTable_cell_width_quant;
    #{$securityTableCellBlockName} {
      &__metric {
        display: none;
      }
      &__quant {
        display: flex;
      }
    }
  }
  &--stencilState {
    #{$securityTableCellBlockName} {
      &__metric-text {
        @include mix_stencil_animation;
      }
    }
  }
}