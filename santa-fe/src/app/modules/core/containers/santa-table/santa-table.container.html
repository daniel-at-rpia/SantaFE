<article
  [ngClass]="{
    'santaTable': true,
    'santaTable--hasPinnedRowsState': tableData.data.agGridPinnedTopRowData.length > 0,
    'santaTable--nativeEnabledState': tableData.state.isNativeEnabled
  }">
  <section class="santaTable__agGridTable">
    <ag-grid-angular
      class="ag-theme-balham santaTable__agGridTable-agGrid"
      [columnDefs]="tableData.data.agGridColumnDefs"
      [defaultColDef]="agGridConfig.defaultColDef"
      [autoGroupColumnDef]="agGridConfig.autoGroupColumnDef"
      [frameworkComponents]="tableData.data.agGridFrameworkComponents"
      [rowClassRules]="constants.agGridRowClassRules"
      [getRowNodeId]="getRowNodeId"
      [aggFuncs]="tableData.data.agGridAggregationMap"
      [floatingFilter]="true"
      [rowHeight]="constants.agGridRowHeight"
      [sideBar]="agGridConfig.sideBar"
      [icons]="icons"
      [rowGroupPanelShow]="'always'"
      [masterDetail]="true"
      [detailCellRenderer]="'detailAllQuotes'"
      [detailRowHeight]="constants.agGridDetailRowHeightMinimum"
      [animateRows]="true"
      [suppressContextMenu]="true"
      [context]="agGridConfig.context"
      [pinnedTopRowData]="tableData.data.agGridPinnedTopRowData"
      [fullWidthCellRenderer]="'fullWidthCell'"
      [isFullWidthCell]="isFullWidthCell"
      (gridReady)="onGridReady($event)"
      (rowClicked)="onRowClicked($event)">
    </ag-grid-angular>
  </section>
  <section class="santaTable__nativeSecurityTable">
    <security-table
      *ngIf="tableData.state.isNativeEnabled"
      [tableData]="tableData"
      [securityTableHeaderConfigs]="securityTableHeaderConfigs"
      [activeTriCoreDriver]="activeTriCoreDriver"
      (clickedSortQuotesByMetric)="onClickSortQuotesByMetric($event)"
      (selectedSecurityForAnalysis)="onSelectSecurityForAnalysis($event)"
      (nativeTableFetchQuotes)="onNativeTableFetchSecurityQuotes($event)"
      (nativeLoadTableHeader)="onNativeLoadTableHeader()"
      (nativePerformSort)="onNativePerformSort($event)"
      (nativePerformDefaultSort)="onNativePerformDefaultSort()"
    ></security-table>
  </section>
  <section class="santaTable__floatingCTA">
    <div class="santaTable__floatingCTA-clearAllPinned">
      <button (click)="onClickClearAllPinnedRows()" class="santaBtn--labelled santaTable__floatingCTA-clearAllPinned-btn">
        <i class="fal fa-thumbtack"></i>
        <span>Unpin All</span>
      </button>
    </div>
    <!--
    <div class="santaTable__floatingCTA-tableSwitch santaBtnGroup">
      <button
        (click)="onToggleNativeTable(true)"
        [ngClass]="{
          'santaTable__floatingCTA-tableSwitch-btn': true,
          'santaTable__floatingCTA-tableSwitch-btn--active': tableData.state.isNativeEnabled
        }">Basic</button>
      <button
        (click)="onToggleNativeTable(false)"
        [ngClass]="{
          'santaTable__floatingCTA-tableSwitch-btn': true,
          'santaTable__floatingCTA-tableSwitch-btn--active': !tableData.state.isNativeEnabled
        }">AgGrid</button>
    </div>
    -->
  </section>  
</article>
