@import "global.scss";
@import "./security-card-mixin.scss";

$securityCard_labelVariant_height: 2rem;
$securityCard_labelVariant_expanded_height: 2.75rem;
$securityCard_name_rightGap: 3rem;

.sat-securityCard {
  $securityCardBlockName: &;
  @include mix_fixed_div(relative, $z_index_standard_base_item);
  @include mix_securityCard();
  @include mix_border_radius(5px);
  @include mix_alive('custom', height $animation_duration_light, box-shadow $animation_duration_light);
  display: flex;
  flex-wrap: nowrap;
  background-color: $color_white;
  height: $securityCard_labelVariant_height;
  width: $securityCard_width;
  &__name {
    @include mix_fixed_div(relative, $z_index_standard_base_item_lift);
    @include mix_calculate(flex-basis, 100%, $securityCard_name_rightGap, '-');
    flex-grow: 0;
    flex-shrink: 1;
    display: flex;
    align-items: center;
    overflow: hidden;
    &-text {
      @include mix_text_overflow_multi_line(1);
      word-break: break-all;
      color: $font_color_inverse;
      margin-left: $spacing_small;
      font-size: $font_size_small;
      user-select: none;
      line-height: $line_height_minimum;
      text-align: left;
    }
  }
  &__rating {
    @include mix_fixed_div(absolute, $z_index_standard_base_item_solid);
    right: 0;
    height: 100%;
    display: flex;
    justify-content: flex-end;
    align-items: flex-end;
    &-text {
      @include mix_rating_style;
      font-size: $font_size_x_large;
      margin-right: $spacing_x_small;
      color: $color_black;
    }
  }
  &--stencilState {
    background: $color_white;
    #{$securityCardBlockName} {
      &__name-text {
        @include mix_stencil_animation;
      }
      &__rating {
        align-items: center;
        &-text {
          @include mix_stencil_animation;
          font-size: $font_size_large;
        }
      }
    }
  }
  &__actionMenu {
    @include mix_fixed_div(absolute, $z_index_standard_hovering_item);
    @include mix_alive('custom', transform $animation_duration_light);
    display: flex;
    justify-content: center;
    transform: scale(0.01) translate(0, -200%);
    width: 100%;
    top: 80%;
    &-thumbDownBtn {
      @include mix_border_radius(50%);
      margin: 0 $spacing_small;
      background-color: $color_kill;
      color: $font_color_inverse;
    }
    &-graphBtn {
      @include mix_border_radius(50%);
      margin: 0 $spacing_small;
      color: $font_color_major;
    }
  }
  &--tableState {
    @include material('none');
    @include mix_border_generator($typical_border_width, $color_gray_85);
  }
  &--thumbDownDisabled {
    #{$securityCardBlockName} {
      &__actionMenu {
        &-thumbDownBtn {
          display: none;
        }
      }
    }
  }
  &--multiLineVariant {
    height: $securityCard_labelVariant_expanded_height;
    #{$securityCardBlockName} {
      &__name {
        &-text {
          @include mix_text_overflow_multi_line(2);
          line-height: 1.25;
        }
      }
    }
  }
  &--flexibleWidthVariant {
    width: inherit;
  }
  &--selectedState {
    @include material('none');
    background: $color_active;
    #{$securityCardBlockName} {
      &__rating {
        &-text {
          color: $font_color_inverse;
        }
      }
      &__actionMenu {
        transform: scale(1) translate(0, 0);
      }
    }
  }
}