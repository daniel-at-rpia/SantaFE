@import "global.scss";

$alert_height: 5rem;
$alert_overview_padding_right: $spacing_small;
$alert_margin_right: $spacing_large;
$alert_countdown_duration: 5s;
.sat-alert {
  $alertBlockName: &;
  @include mix_fixed_div(relative, $z_index_base_item);
  @include mix_alive('light');
  @include material();
  @include mix_border_radius(10px);
  display: flex;
  width: $alert_width;
  height: $alert_height;
  margin: $spacing_small 0;
  background-color: $color_white;
  transform: translate(-$alert_height, 0);
  &__overview {
    @include mix_border_generator(0 $typical_border_width 0 0);
    flex: 0 0 auto;
    display: flex;
    width: $alert_height;
    padding-right: $alert_overview_padding_right;
    margin: $spacing_small $spacing_small $spacing_small 0;
    &-main {
      flex: 1 1 auto;
      display: flex;
      justify-content: center;
      align-items: center;
      &-icon {
        font-size: $font_size_xx_large;
        color: $font_color_minor;
      }
    }
  }
  &__detail {
    flex: 1 1 auto;
    display: flex;
    flex-direction: column;
    margin: $spacing_small 0;
    &-card {
      flex: 0 0 auto;
    }
    &-message {
      @include mix_text_overflow_multi_line(2);
      flex: 1 1 auto;
      margin-top: $spacing_small;
      line-height: $line_height_small;
      overflow: hidden;
      user-select: none;
    }
  }
  &__close {
    @include mix_fixed_div(absolute, $z_index_hovering_item);
    display: flex;
    align-self: center;
    right: -$iconButton_size_large/2;
    &-btn {
      @include mix_border_radius(50%);
      display: flex;
      width: $iconButton_size_large;
      height: $iconButton_size_large;
      font-size: $font_size_large;
      background-color: $color_kill;
      color: $font_color_inverse;
    }
  }
  &__countdown {
    @include mix_border_radius(10px);
    @include mix_fixed_div(absolute, $z_index_base_item);
    display: flex;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    overflow: hidden;
    &-line {
      @include mix_fixed_div(absolute, $z_index_hovering_item);
      display: flex;
      width: 100%;
      bottom: 0;
      height: $alert_countdown_width;
      &-content {
        @include mix_alive('custom', margin-left $alert_countdown_duration linear);
        margin-left: 0;
        flex: 1 1 auto;
        &--started {
          margin-left: 100%;
        }
      }
    }
  }
  &__actionMenu {
    @include mix_fixed_div(absolute, $z_index_hovering_item);
    @include mix_alive('custom', transform $animation_duration_light);
    display: flex;
    justify-content: center;
    align-items: center;
    transform: scale(0.01);
    top: 0;
    left: 0;
    height: 100%;
    width: $alert_width - $spacing_x_large;
    &-btn {
      margin: 0 $spacing_small;
    }
  }
  &--info {
    #{$alertBlockName} {
      &__overview-main {
        &--info {
          display: flex;
        }
      }
      &__countdown-line-content {
        background-color: $font_color_minor;
      }
    }
  }
  &--selectedState {
    @include material('none');
    background-color: $color_active;
    #{$alertBlockName} {
      &__overview {
        &-main-icon {
          color: $font_color_inverse;
        }
      }
      &__detail {
        &-message {
          color: $font_color_inverse;
        }
      }
      &__actionMenu {
        transform: scale(1);
      }
    }
  }
  &--slideOutState {
    transform: translate(-$alert_width - $spacing_large, 0);
  }
  &--willBeRemovedState {
    @include material('none');
    height: 0;
    overflow: hidden;
  }
  &--hiddenState {
    transform: translate(0, 0);
  }
}