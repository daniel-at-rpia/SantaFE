<article
  [ngClass]="{
    'sat-securityGroupDefinitionConfigurator': true,
    'sat-securityGroupDefinitionConfigurator--longFilterOptionsState': configuratorData.state.showLongFilterOptions,
    'sat-securityGroupDefinitionConfigurator--filterActiveState': configuratorData.state.showFiltersFromDefinition,
    'sat-securityGroupDefinitionConfigurator--highlightedVariant': highlightedVariant,
    'sat-securityGroupDefinitionConfigurator--filterShowingLongDefinitionState': configuratorData.state.showFiltersFromDefinition?.data.urlForGetLongOptionListFromServer && configuratorData.state.showFiltersFromDefinition?.data.filterOptionList.length === 0,
    'sat-securityGroupDefinitionConfigurator--filterLoadingLongOptionListState': configuratorData.state.isLoadingLongOptionListFromServer
  }">
  <section class="sat-securityGroupDefinitionConfigurator__definitions">
    <ul class="sat-securityGroupDefinitionConfigurator__definitions-list">
      <li *ngFor="let eachDefinition of configuratorData?.data.definitionList" class="sat-securityGroupDefinitionConfigurator__definitions-list-item">
        <button
          (click)="selectDefinitionForGrouping(eachDefinition)"
          [ngClass]="{
            'sat-securityGroupDefinitionConfigurator__definitions-list-item-selectBtn': true,
            'santaBtn--iconOnly': true,
            'fal': true,
            'fa-square': !eachDefinition.state.groupByActive && !eachDefinition.state.isLocked,
            'sat-securityGroupDefinitionConfigurator__definitions-list-item-selectBtn--selected': eachDefinition.state.groupByActive,
            'fa-check-square': eachDefinition.state.groupByActive || eachDefinition.state.isLocked,
            'sat-securityGroupDefinitionConfigurator__definitions-list-item-selectBtn--locked': eachDefinition.state.isLocked
          }"></button>
        <security-group-definition
          [definitionData]="eachDefinition"
          (onClick)="onClickDefinition($event)"
          [selected]="configuratorData.state.showFiltersFromDefinition === eachDefinition"
          [interactionDisabled]="configuratorData.state.isLoadingLongOptionListFromServer">
        </security-group-definition>
      </li>
    </ul>
  </section>
  <section class="sat-securityGroupDefinitionConfigurator__filters">
    <div class="sat-securityGroupDefinitionConfigurator__filters-content">
      <div class="sat-securityGroupDefinitionConfigurator__filters-content-title">
        <security-group-definition
          [definitionData]="configuratorData.state.showFiltersFromDefinition"
          [backgroundVariant]="true">
        </security-group-definition>
      </div>
      <div class="sat-securityGroupDefinitionConfigurator__filters-content-search">
        <santa-input
          [inputValue]="configuratorData.data.filterSearchInputValue"
          [placeholder]="'search'"
          (onInputChange)="onSearchKeywordChange($event)">
        </santa-input>
      </div>
      <santa-loadable-button
        class="sat-securityGroupDefinitionConfigurator__filters-content-loadLongOptionCta"
        (onClickButton)="onClickLoadLongOptionListForDefinition(configuratorData.state.showFiltersFromDefinition)"
        [isLoading]="configuratorData.state.isLoadingLongOptionListFromServer"
        [icon]="'fal fa-flashlight'"
        [text]="'Load Options'">
      </santa-loadable-button>
      <ul class="sat-securityGroupDefinitionConfigurator__filters-content-optionList">
        <button
          *ngFor="let eachOption of configuratorData.state.showFiltersFromDefinition?.data.filterOptionList"
          (click)="onClickFilterOption(eachOption)"
          [ngClass]="{
            'sat-securityGroupDefinitionConfigurator__filters-content-optionList-item': true,
            'sat-securityGroupDefinitionConfigurator__filters-content-optionList-item--selected': eachOption.isSelected,
            'sat-securityGroupDefinitionConfigurator__filters-content-optionList-item--filteredOut': eachOption.isFilteredOut
          }">
          {{eachOption.displayLabel}}
        </button>
      </ul>
    </div>
  </section>
  <section class="sat-securityGroupDefinitionConfigurator__ctas">
    <div class="sat-securityGroupDefinitionConfigurator__ctas-content">
      <santa-loadable-button
        class="sat-securityGroupDefinitionConfigurator__ctas-content-regularSearch"
        (onClickButton)="triggerSearch()"
        [isLoading]="configuratorData.state.isLoading"
        [icon]="'fal fa-search-dollar'"
        [text]="'Search'">
      </santa-loadable-button>
      <santa-loadable-button
        class="sat-securityGroupDefinitionConfigurator__ctas-content-selectedGroupSearch"
        (onClickButton)="triggerSearch()"
        [isLoading]="configuratorData.state.isLoading"
        [icon]="'fal fa-flashlight'"
        [text]="'Focus on Selected Groups'">
      </santa-loadable-button>
    </div>
  </section>
</article>