<article [ngClass]="{
  'sat-securityGroupAverageVisualizer': true,
  'sat-securityGroupAverageVisualizer--expandedState': visualizerData.state.isExpanded,
  'sat-securityGroupAverageVisualizer--stencilState': visualizerData.state.isStencil
}">
  <section class="sat-securityGroupAverageVisualizer__metricNames">
    <article
      *ngFor="let eachStat of visualizerData.data.stats; let statIndex = index"
      [ngClass]="{
        'sat-securityGroupAverageVisualizerName': true,
        'sat-securityGroupAverageVisualizerName--selectedState': visualizerData.state.selectingStat === eachStat,
        'sat-securityGroupAverageVisualizerName--editingState': visualizerData.state.editingStat === eachStat,
        'sat-securityGroupAverageVisualizerName--emptyState': eachStat.isEmpty,
        'sat-securityGroupAverageVisualizerName--prevEmpty': statIndex > 0 && visualizerData.data.stats[statIndex-1].isEmpty,
        'sat-securityGroupAverageVisualizerName--stencilState': visualizerData.state.isStencil
      }">
      <section class="sat-securityGroupAverageVisualizerName__leftMargin"></section>
      <button (click)="onClickMetric(eachStat)" class="sat-securityGroupAverageVisualizerName__nameCTA">{{eachStat.label}}</button>
      <span class="sat-securityGroupAverageVisualizerName__value">{{eachStat.value}}</span>
      <button (click)="addMetric(eachStat)" class="sat-securityGroupAverageVisualizerName__addMetric santaBtn--labelled santaBtn--inverseLabelled">
        <i class="sat-securityGroupAverageVisualizerName__addMetric-icon fal fa-plus"></i>
        <span>Add Metric</span>
      </button>
      <section class="sat-securityGroupAverageVisualizerName__actionMenu">
        <button (click)="onClickActionDelete(eachStat)" class="sat-securityGroupAverageVisualizerName__actionMenu-deleteBtn santaBtn--iconOnly santaBtn--small fal fa-times"></button>
        <button (click)="onClickActionEdit(eachStat)" class="sat-securityGroupAverageVisualizerName__actionMenu-editBtn santaBtn--iconOnly santaBtn--small fal fa-pencil"></button>
        <button class="sat-securityGroupAverageVisualizerName__actionMenu-sortBtn santaBtn--iconOnly santaBtn--small fal fa-sort-amount-down-alt"></button>
      </section>
      <section class="sat-securityGroupAverageVisualizerName__metricSelectionDropdown">
        <div class="sat-securityGroupAverageVisualizerName__metricSelectionDropdown-content">
          <ul class="sat-securityGroupAverageVisualizerName__metricSelectionDropdown-content-list">
            <li class="sat-securityGroupAverageVisualizerName__metricSelectionDropdown-content-list-item">
              <span class="sat-securityGroupAverageVisualizerName__metricSelectionDropdown-content-list-item-label">
                Price :
              </span>
              <div class="sat-securityGroupAverageVisualizerName__metricSelectionDropdown-content-list-item-btnGroup santaBtnGroup">
                <button>Value</button>
                <button>DoD</button>
                <button>WoW</button>
                <button>Mtd</button>
                <button>MoM</button>
                <button>Ytd</button>
              </div>
            </li>
            <li class="sat-securityGroupAverageVisualizerName__metricSelectionDropdown-content-list-item">
              <span class="sat-securityGroupAverageVisualizerName__metricSelectionDropdown-content-list-item-label">
                Size :
              </span>
              <div class="sat-securityGroupAverageVisualizerName__metricSelectionDropdown-content-list-item-btnGroup santaBtnGroup">
                <button>Value</button>
                <button>DoD</button>
                <button>WoW</button>
                <button>Mtd</button>
                <button>MoM</button>
                <button>Ytd</button>
              </div>
            </li>
            <li class="sat-securityGroupAverageVisualizerName__metricSelectionDropdown-content-list-item">
              <span class="sat-securityGroupAverageVisualizerName__metricSelectionDropdown-content-list-item-label">
                Tenor :
              </span>
              <div class="sat-securityGroupAverageVisualizerName__metricSelectionDropdown-content-list-item-btnGroup santaBtnGroup">
                <button>Value</button>
                <button>DoD</button>
                <button>WoW</button>
                <button>Mtd</button>
                <button>MoM</button>
                <button>Ytd</button>
              </div>
            </li>
            <li class="sat-securityGroupAverageVisualizerName__metricSelectionDropdown-content-list-item">
              <span class="sat-securityGroupAverageVisualizerName__metricSelectionDropdown-content-list-item-label">
                YieldWorst :
              </span>
              <div class="sat-securityGroupAverageVisualizerName__metricSelectionDropdown-content-list-item-btnGroup santaBtnGroup">
                <button>Value</button>
                <button>DoD</button>
                <button>WoW</button>
                <button>Mtd</button>
                <button>MoM</button>
                <button>Ytd</button>
              </div>
            </li>
            <li class="sat-securityGroupAverageVisualizerName__metricSelectionDropdown-content-list-item">
              <span class="sat-securityGroupAverageVisualizerName__metricSelectionDropdown-content-list-item-label">
                YieldMaturity :
              </span>
              <div class="sat-securityGroupAverageVisualizerName__metricSelectionDropdown-content-list-item-btnGroup santaBtnGroup">
                <button>Value</button>
                <button>DoD</button>
                <button>WoW</button>
                <button>Mtd</button>
                <button>MoM</button>
                <button>Ytd</button>
              </div>
            </li>
          </ul>
        </div>
      </section>
    </article>
  </section>
  <section class="sat-securityGroupAverageVisualizer__alignmentLine"></section>
  <section class="sat-securityGroupAverageVisualizer__metricValues">
    <article
      *ngFor="let eachStat of visualizerData.data.stats; let statIndex = index"
      [ngClass]="{
        'sat-securityGroupAverageVisualizerValue': true,
        'sat-securityGroupAverageVisualizerValue--emptyState': eachStat.isEmpty,
        'sat-securityGroupAverageVisualizerValue--prevEmpty': statIndex > 0 && visualizerData.data.stats[statIndex-1].isEmpty,
        'sat-securityGroupAverageVisualizerValue--stencilState': visualizerData.state.isStencil
      }">
      <div [ngStyle]="{'width': eachStat.percentage + '%'}" class="sat-securityGroupAverageVisualizerValue__line">
      </div>
    </article>
    <div class="sat-securityGroupAverageVisualizer__metricValues-mask"></div>
  </section>
</article>